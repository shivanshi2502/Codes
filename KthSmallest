#include <iostream>
#include<queue>
using namespace std;
int KthSmallest(int arr[],int n,int k){
    priority_queue<int>pq;
    //create max heap of first k elements
    for(int i=0;i<k;i++){
        pq.push(arr[i]);
    }
    //for rest elem compare with top and push if top is greater
    for(int i=k;i<n;i++){
        int top=pq.top();
        if(top>arr[i]){
            pq.pop();
            pq.push(arr[i]);
        }
    }
    return pq.top();
}
int main()
{
    int arr[8]={3,11,6,9,4,12,2,8};
    int n=8;
    int k=4;
    cout<<KthSmallest(arr,n,k);
}
